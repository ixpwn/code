    In order to study the impact of regional disaster, we augment a standard AS logical connectivity graph~\cite{caida-asgraph} with measurements of the geographic regions in which networks peer.
    We model the Earth as a geodesic globe inscribed in a sphere of the Earth's radius, and map latitude and longitude values to a face on the globe.
    We consider each face of the globe as a `region,' such that a worst-case disaster could destroy all of the physical routing infrastructure within the region.
    We generate the geodesic globe using a standard algorithm~\cite{geodesic}, providing us with \shaddi{?} \shaddi{triangular?} cells, each with average width of \shaddi{?}km and area \shaddi{?} km$^2$.  
    Dividing the globe in to cells allows us to cleanly model the concept of a `region' - a region is one cell, or a set of contiguous cells, all suceptible to the impact of shared event. 
     
    We map every location where peering takes place to a cell on the globe, and use the resulting grid to perform our analysis of interdomain connectivity.
    We generate peering locations using a combination of an Internet Exchange Point dataset~\cite{ixps-mapped}, and observed router-level AS adjacencies from the CAIDA Internet Topology Data Kit (ITDK)~\cite{itdk}.
    The ITDK is a router-level Internet map generated from traceroute, mrinfo, and other active measurement data.
    The dataset provides geolocations for each router provided by the MaxMind~\cite{maxmind} commercial geolocation database.
    Because small ASes typically have only one or two providers and are limited in their geographic extent, we remove `stub' ASes from our dataset entirely, limiting our analysis to networks who provide transit to other networks.
    Because commercial geolocation techniques are on average incorrect by 100 km~\cite{someone}, our mapping to \shaddi{n} km wide cells ensures that the average geolocated peering is either in its proper cell, or a cell adjacent to its proper cell.
    
    
    Figure~\ref{fig:worldmap} illustrates our model and our data.
    The ITDK and IXP Mapping datasets provided us with \justine{n} and \justine{m} AS adjacencies, mapping to 2536 cells.
    The average cell contained adjecencies for \kristin{q} ASes and \kristin{r} AS pairs.
    We observe that cell density is heavier in the United States and Europe, which is consistent with the higher density of Internet connectivity in these regions compared to the rest of the world.
    However, this also may be an artifact of the limitations of commercial geolocation, which provide better city-level granularity in Europe and the United States than in other areas of the world, where IP addresses are more likely to map to the capitol city of their country.
    We also observe...\shaddi{?} 

\eat{ 
    We develop our peering dataset by borrowing techniques and data from
    the IXP
    Mapping Project~\cite{ixps-mapped}, iPlane~\cite{iplane},
    Aqualab~\cite{sidewalk},
    CAIDA~\cite{caidadata}, and the MaxMind~\cite{maxmind} industrial IP geolocation service.
    For the iPlane and Aqualab data, we derive peering points from raw traceroute files.
    For each pair of IP addresses we observe adjacent in a traceroute, we map the IPs to alias clusters generated by CAIDA's iffinder~\cite{iffinder} and MIDAR~\cite{iffinder, midar} measurements.
    We then map the alias clusters to ASes, and if the ASes are different, we store the two IP addresses as an AS peering.
    Since the majority of stub networks are not geographically widespread, we limited our study to networks which provided transit to at least one AS; thus, we removed any adjacency which included a stub network.
    We map the peering to a geographic location using a combination of DNS-based geolocation and the MaxMind commercial geolocation service.
    For both IP addresses in the adjacency, we do reverse DNS lookups on all IP addresses in their alias clusters. 
    If any of the DNS names match rules from the undns~\cite{undns} or sarang~\cite{sarang} projects, we map the IP address to that location. 
    If multiple of the IP addresses point to different locations, we elect the most common location, or in a tie, choose the location with the least distance from the others.
    If no DNS names are found, we repeat the same process with locations from the MaxMind GeoLite City database, which has better coverage that DNS geolocation, but worse accuracy~\cite{uhlig_ccr_paper}. 
    
    The measurements we gathered from CAIDA, iPlane, and Aqualab allowed us to identify 489,334 router-level AS adjacencies, which we mapped to 14,457 unique latitude, longitude locations (133,686 using DNS, and the remainder using MaxMind).
    We then supplemented these measured adjacencies with 38,994 adjacencies from a ground-truth dataset~\cite{ixps-mapped}, bringing our total to 528,328 adjacencies in 14,571 uniqe latitude, longitude locations. 
}
